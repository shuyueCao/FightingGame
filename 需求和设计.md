# 角色系统

## 需求

1. 提供角色类型选择
   1. 提供怪物角色
2. 具有装备和武器加成
   1. 怪物无装备和武器
3. 角色属性(血量、攻击力、防御)随着角色等级提升而提升

### 需求扩展

- 角色类型可扩展，后期可能增加角色

## 设计

#### 创建角色

- 角色初始无武器无装备，需要金钱购买
- 不同角色初始属性不同(血量、防御、攻击)

**采用 `*工厂模式*` 创建角色，方便以后角色类型的扩展。**

**创建后角色采用 `*单例模式* `保证唯一性**

![icon](http://assets.processon.com/chart_image/5c98ed8ae4b0d1a5b10bf651.png?_=1553526280041)

#### 角色升级

- 属性自动根据等级的提升而改变
  - 每5级一个小提升，每10级一个较大提升

**采用`*状态模式*`实现，根据角色等级的状态来判断属性需要何种级别的提升**

![icon](http://assets.processon.com/chart_image/5c98f9b8e4b0d1a5b10bff52.png?_=1553528943495)





# 装备/武器系统

## 需求

1. 武器可以加强
2. 装备可以镶嵌宝石以提供属性加成

### 需求扩展

- 武器、装备和宝石种类可能增加
- 武器栏数目可能增加
- 装备可能需要镶嵌多个宝石

## 设计

### 创建武器/装备

- 一名角色对应一把武器和一件装备
  - 角色初始时默认无武器或装备
  - 武器和装备需要金钱购买
- 武器和装备可以更换
- 武器的属性(攻击力)需要使用金币加强，更换武器后该武器的加成失效
  - 武器、装备属性与角色等级无关

- 不同武器和装备默认属性不同

**采用 `*工厂模式*` 创建装备和武器，方便武器类型扩展**

![icon](http://assets.processon.com/chart_image/5c98ed8ae4b0d1a5b10bf651.png?_=1553527595118)

#### 装备镶嵌宝石

- 装备可以镶嵌宝石以增加属性(血量、防御)
  - 可以镶嵌多个
  - 宝石属性可叠加

**采用`*装饰者模式*`实现，来保证镶嵌多个宝石的情况**

![icon](http://assets.processon.com/chart_image/5ae45c84e4b039625af641c7.png?_=1553529518955)



# 技能系统

## 需求

1. 每个角色三个技能，三技能为大招
2. 技能随着角色等级的提升而提升
3. 技能不同组合使用的效果不同

### 需求扩展

- 技能可能增加
- 组合效果可能有变化

## 设计

### 角色技能

- 每个角色均有技能一、技能二、技能三
    - 初始只有技能一，二级解锁技能二，三级解锁技能三

**采用`*策略模式*`实现角色技能，使得技能的实现独立于角色，且方便应对各个位置技能的变化**

![icon](http://assets.processon.com/chart_image/5c99a478e4b09bf72a682dd0.png?_=1553572974613)

### 技能升级

- 角色等级每升5级，所有技能升一级
- 技能等级提升伴随其属性(伤害)的提升

**采用`*观察者模式*`实现技能升级，角色技能每升5级，自动通知所有技能升级并改变其属性**

![icon](http://assets.processon.com/chart_image/5c99addfe4b09bf72a6835a7.png?_=1553575075661)

### 技能组合

- 不同命令实现不同技能组合
  - 不同的技能组合产生的效果不同

**采用`*命令模式*`实现技能组合，将多个技能封装到一个命令对象中**

![icon](http://assets.processon.com/chart_image/5c99bd98e4b0be36557f4d85.png?_=1553579039571)

